{"ast":null,"code":"function Ex9_reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    users: []\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"ADD\":\n      //Add new user\n      return { ...state,\n        users: [...state.users, action.payload]\n      };\n\n    case \"UPDATE\":\n      const updatedUser = action.payload;\n      const updatedUsers = [...state.users];\n      const updatedIndex = updatedUsers.findIndex(user => user.id == updatedUser.id); // Checking whether there is a user to delete\n\n      if (updatedIndex >= 0) {\n        updatedUsers[updatedIndex] = updatedUser;\n      }\n\n      return { ...state,\n        users: [...updatedUsers]\n      };\n\n    case \"DELETE\":\n      const newUsers = [...state.users];\n      const delIndex = newUsers.findIndex(user => user.id == action.payload); // Checking whether there is a user to delete\n\n      if (delIndex >= 0) {\n        newUsers.splice(delIndex, 1);\n      }\n\n      return { ...state,\n        users: [...newUsers]\n      };\n\n    default:\n      return state;\n  }\n}\n\n_c = Ex9_reducer;\nexport default Ex9_reducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Ex9_reducer\");","map":{"version":3,"sources":["/Users/Sveta/Documents/Full_stack/REACT/SPAfunc/src/Ex9_mySolution.js/Ex9_reduser.js"],"names":["Ex9_reducer","state","users","action","type","payload","updatedUser","updatedUsers","updatedIndex","findIndex","user","id","newUsers","delIndex","splice"],"mappings":"AAAA,SAASA,WAAT,GACA;AAAA,MADqBC,KACrB,uEAD2B;AAACC,IAAAA,KAAK,EAAC;AAAP,GAC3B;AAAA,MADsCC,MACtC;;AACI,UAAOA,MAAM,CAACC,IAAd;AAEI,SAAK,KAAL;AAAW;AACP,aAAO,EAAC,GAAGH,KAAJ;AAAUC,QAAAA,KAAK,EAAC,CAAC,GAAGD,KAAK,CAACC,KAAV,EAAgBC,MAAM,CAACE,OAAvB;AAAhB,OAAP;;AAEJ,SAAK,QAAL;AACI,YAAMC,WAAW,GAAGH,MAAM,CAACE,OAA3B;AACA,YAAME,YAAY,GAAG,CAAC,GAAGN,KAAK,CAACC,KAAV,CAArB;AACA,YAAMM,YAAY,GAAGD,YAAY,CAACE,SAAb,CAAuBC,IAAI,IAAEA,IAAI,CAACC,EAAL,IAASL,WAAW,CAACK,EAAlD,CAArB,CAHJ,CAKI;;AACA,UAAIH,YAAY,IAAG,CAAnB,EACA;AACID,QAAAA,YAAY,CAACC,YAAD,CAAZ,GAA6BF,WAA7B;AACH;;AAED,aAAO,EAAC,GAAGL,KAAJ;AAAUC,QAAAA,KAAK,EAAC,CAAC,GAAGK,YAAJ;AAAhB,OAAP;;AAEJ,SAAK,QAAL;AACI,YAAMK,QAAQ,GAAG,CAAC,GAAGX,KAAK,CAACC,KAAV,CAAjB;AACA,YAAMW,QAAQ,GAAGD,QAAQ,CAACH,SAAT,CAAmBC,IAAI,IAAEA,IAAI,CAACC,EAAL,IAASR,MAAM,CAACE,OAAzC,CAAjB,CAFJ,CAII;;AACA,UAAIQ,QAAQ,IAAG,CAAf,EACA;AACID,QAAAA,QAAQ,CAACE,MAAT,CAAgBD,QAAhB,EAAyB,CAAzB;AACH;;AAED,aAAO,EAAC,GAAGZ,KAAJ;AAAUC,QAAAA,KAAK,EAAC,CAAC,GAAGU,QAAJ;AAAhB,OAAP;;AAEJ;AACI,aAAOX,KAAP;AA/BR;AAiCH;;KAnCQD,W;AAqCT,eAAeA,WAAf","sourcesContent":["function Ex9_reducer(state={users:[]},action)\n{\n    switch(action.type)//we iterate over all possible actions:\n    {\n        case \"ADD\"://Add new user\n            return {...state,users:[...state.users,action.payload]}\n\n        case \"UPDATE\":\n            const updatedUser = action.payload\n            const updatedUsers = [...state.users]\n            const updatedIndex = updatedUsers.findIndex(user=>user.id==updatedUser.id)\n            \n            // Checking whether there is a user to delete\n            if (updatedIndex >=0)\n            {\n                updatedUsers[updatedIndex] = updatedUser;\n            }\n        \n            return {...state,users:[...updatedUsers]}\n\n        case \"DELETE\":\n            const newUsers = [...state.users]    \n            const delIndex = newUsers.findIndex(user=>user.id==action.payload)\n            \n            // Checking whether there is a user to delete\n            if (delIndex >=0)\n            {\n                newUsers.splice(delIndex,1)\n            }\n        \n            return {...state,users:[...newUsers]}\n        \n        default:\n            return state;\n    }\n}\n\nexport default Ex9_reducer;                                                                 "]},"metadata":{},"sourceType":"module"}